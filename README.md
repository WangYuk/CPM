# README

关于经管的一些计算。欢迎提建议/一起搞新功能/找bug。

## 更新说明

| 更新时间   | 更新内容                                                     |
| ---------- | ------------------------------------------------------------ |
| 2020.06.09 | 第14章CPM计算                                                |
| 2020.06.19 | 第15章全部计算                                               |
| 2020.06.20 | 修复了第14章计算CPM最早/最晚时间时有多个紧前活动/紧后活动时计算出错的bug，第15章计算净现值增加了每年的净现值输出表格与动态投资回收期输出 |

## 环境要求

#### 第14章CPM

如果用jar包，需要**JRE 1.8或以上**版本

如果直接运行代码，推荐**JDK 1.8或以上**版本

#### 第15章计算部分

python3.x

## 使用说明

#### 第14章CPM

直接运行jar，或编译运行Java文件，主类为`main.java`, 根据给出的提示输入活动数量、活动、起始活动、终止活动、活动间关系数、关系即可，样例见文档最后。

#### 第15章全部计算

运行`main.py`，根据提示输入计算数据，样例见文档最后

## 瞎扯

完全没有测试过，LS, ES, LF, EF, FF, TF的算法照抄课本，应该问题不大，关键路径凭感觉写了个dfs，或许问题不大。

完全不支持设计之外~~奇怪的~~输入，如果没按给出的格式来输肯定直接RE抛异常了。

第15章的计算完全靠书上公式了，大概率没问题

## 样例

以贾国柱、张人千编著的《经济管理概论》的例题为例，注释内容为程序给出的输入提示：

#### 第14章CPM

**输入**

```c
//请输入活动数量：
7
//请以“活动名称-DU”的格式输入各个活动，每个活动输入结束后请按回车
A-3
B-2
C-8
D-7
E-8
F-6
G-5
//请输入起始活动：
A
//请输入终止活动：
G
//请输入活动之间关系个数：
9
//请以“紧前活动-紧后活动-关系类型-时间”的格式输入活动间的关系，如果时间为负数，用“&”代替负号
A-B-FS-0
A-C-FS-0
A-D-FS-3
B-E-FS-0
C-E-SS-6
C-F-FS-0
D-F-FS-0
E-G-FS-0
F-G-FF-4

```

**输出**

```c
---------------------------------
ES: 0  TF: 0  EF:3
name:  A   DU: 3
LS: 0  FF:0  LF:3
---------------------------------
---------------------------------
ES: 3  TF: 5  EF:5
name:  B   DU: 2
LS: 8  FF:4  LF:10
---------------------------------
---------------------------------
ES: 3  TF: 1  EF:11
name:  C   DU: 8
LS: 4  FF:0  LF:12
---------------------------------
---------------------------------
ES: 6  TF: 0  EF:13
name:  D   DU: 7
LS: 6  FF:0  LF:13
---------------------------------
---------------------------------
ES: 9  TF: 1  EF:17
name:  E   DU: 8
LS: 10  FF:1  LF:18
---------------------------------
---------------------------------
ES: 13  TF: 0  EF:19
name:  F   DU: 6
LS: 13  FF:0  LF:19
---------------------------------
---------------------------------
ES: 18  TF: 0  EF:23
name:  G   DU: 5
LS: 18  FF:0  LF:23
---------------------------------
key roads:
A->D->F->G
```

#### 第15章

```c
/*
支持功能：
1. 一次支付终值公式（已知初值利率年限求终值）
2. 一次支付现值公式（已知种植利率年限求初值）
3. 等额支付系列终值公式（已知每期末存入，利率年限求终值）
4. 等额支付系列债偿基金公式（期末想得到F，每期末应该存入多少）
5. 等额支付系列资金回收公式（已知期初，连续取n年，每年取多少）
6. 等额支付系列现值公式（已知每期末取出A，求期初存入多少）
7. 净现值
8. 内部收益率（插值法）
9. 结束
请输入你想计算的公式号码：
*/
1
//请输入现在时间点的金额：
10000
//请输入年利率:
0.08
//请输入年限：
5
F = P(1 + i)^n = 14693.280768000006
//请输入下一个公式代码：
2
//请输入期末值：
10000
//请输入年利率:
0.06
//请输入年限：
1
P = F/(1 + i)^n = 9433.962264150943
//请输入下一个公式代码：
3
//请输入每期末存入的的金额：
1000
//请输入年利率:
0.06
//请输入年限：
5
F = A((1 + i)^n - 1) / i = 5637.092960000005
//请输入下一个公式代码：
4
//请输入期末的金额：
10000
//请输入年利率:
0.07
//请输入年限：
10
A = F * i / ((1 + i)^n - 1) = 723.7750272736464
//请输入下一个公式代码：
5
//请输入现在时间点的金额：
2000
//请输入年利率:
0.07
//请输入年限：
10
A = P * i * (1 + i)^n / ((1 + i)^n - 1) = 284.75500545472926
//此题我认为课本计算有误
//请输入下一个公式代码：
6
//请输入每期末取出的的金额：
100
//请输入年利率:
0.1
//请输入年限：
6
A = P * ((1 + i)^n - 1) / (i * (1 + i)^n )= 435.5260699462228
//请输入下一个公式代码：
7
//请输入收益率：
0.1
//请输入寿命期：
9
//请在一行内输入各年净现金流，以空格分隔：
-25 -20 12 12 12 12 12 12 12 12
净现值为：15.017376704392696
//请输入下一个公式代码：
8
//请输入寿命期：
5
//请在一行内输入各年净现金流，以空格分隔：
-10000 2000 4000 7000 5000 3000
//要自己输入开始算插值的上下界吗？(y/n)
y
//请输入开始的下界：
0.25
//请输入开始的上界：
0.3
内部收益率： 28.444850652630276%,i1 = 25.0%, i2 = 30.0%
```

